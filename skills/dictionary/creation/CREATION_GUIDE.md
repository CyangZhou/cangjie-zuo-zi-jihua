# 单字技能造字指南 (Character Creation Guide)

本指南定义了“单字技能”的概念。一个合格的单字技能不仅仅是一段代码，它是一个**活的、可交互的、自包含的智能单元**。

要让一个字真正“活”起来并能与其他字互补，它必须具备以下 **四大核心要素**：

## 1. 严格的输入输出契约 (IO Contract)
这是最关键的。没有契约，字与字就无法对接，只能是孤岛。

-   **输入 (Input Schema)**: 必须是强类型的。
    -   *反例*: 随便给个字符串。
    -   *正例*: `{ "keywords": ["AI", "2024"], "limit": 10 }`
-   **输出 (Output Schema)**: 必须是结构化的，供下一个字消费。
    -   *反例*: 直接打印到控制台 (stdout 用于日志，结果应为 JSON)。
    -   *正例*: `{ "results": [{ "url": "...", "title": "..." }] }`
-   **失败模式 (Failure Mode)**: 必须明确定义“失败了怎么办”。
    -   *规范*: 优先返回标准化的错误对象 `{ "error": "SearchError", "message": "..." }` 或在文档中声明会抛出的异常。

## 2. 独立且幂等的执行逻辑 (Execution Logic)
一个字必须是 **自包含 (Self-contained)** 的。

-   **无状态 (Stateless)**: 不依赖外部状态，不依赖上一次执行结果。每次输入相同，输出应尽可能一致（除非是实时数据）。
-   **依赖自检 (Self-Check)**: 脚本开头必须检查依赖（如 `import requests`），如果缺失，应报错提示或尝试自动修复。
-   **副作用控制 (Side-effect Control)**: 除了输出结果，不要随意写文件、改环境变量，除非那是它的本职工作（如【写】字）。

## 3. 元数据自描述 (Meta-Description)
这个字必须能“告诉”字典它是谁，以便被检索和编排。

-   **功能描述**: 一句话说清它干什么（用于 LLM 决策）。
-   **关键词标签**: 如 `网络`, `搜索`, `爬虫`（用于模糊匹配）。
-   **依赖列表**: 明确列出 `requirements.txt` 片段或 pip 包名。

## 4. 单元测试与样例 (Test & Example)
没有测试的字是不可信的。

-   **Happy Path**: 给一个标准输入，必须返回标准输出。
-   **Edge Case**: 给空输入、断网情况、非法参数，必须优雅处理，不能直接崩溃。

---

## 造字步骤 (Standard Procedure)

1.  **定契约 (Contract)**: 先定义 Input/Output Schema。
2.  **写元数据 (Meta)**: 填写 `SKILL.md` 的 Frontmatter 和描述。
3.  **实现逻辑 (Implement)**: 编写 Python 脚本，包含依赖检查和核心逻辑。
4.  **加测试 (Test)**: 在 `SKILL.md` 或独立文件中提供测试用例。
